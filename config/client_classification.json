{
  "_metadata": {
    "title": "Client Crisis Classification Configuration",
    "file_version": "v3.1-4a-2",
    "last_modified": "2025-09-12",
    "clean_architecture": "v3.1",
    "description": "Client-side crisis classification thresholds and strategies for dual classification testing",
    "compliance": "Clean Architecture Standards"
  },

  "client_classification": {
    "description": "Core client classification settings",
    "enable_client_classification": "${THRASH_ENABLE_CLIENT_CLASSIFICATION}",
    "default_strategy": "${THRASH_CLIENT_CLASSIFICATION_STRATEGY}",
    "default_threshold_config": "${THRASH_DEFAULT_THRESHOLD_CONFIG}",
    "track_agreement_stats": "${THRASH_TRACK_CLASSIFICATION_STATS}",
    "log_disagreements": "${THRASH_LOG_CLASSIFICATION_DISAGREEMENTS}",
    "defaults": {
      "enable_client_classification": true,
      "default_strategy": "conservative", 
      "default_threshold_config": "standard",
      "track_agreement_stats": true,
      "log_disagreements": true
    },
    "validation": {
      "enable_client_classification": {
        "description": "Enable dual classification mode with client-side crisis classification",
        "type": "boolean"
      },
      "default_strategy": {
        "description": "Default classification strategy to use",
        "type": "string",
        "allowed_values": [
          "conservative",
          "aggressive",
          "consensus",
          "client_only"
        ]
      },
      "default_threshold_config": {
        "description": "Default threshold configuration set to use",
        "type": "string", 
        "allowed_values": [
          "standard",
          "conservative",
          "aggressive"
        ]
      },
      "track_agreement_stats": {
        "description": "Track agreement statistics",
        "type": "boolean"
      },
      "log_disagreements": {
        "description": "Log disagreements",
        "type": "boolean"
      }
    }
  },

  "classification_strategies": {
    "description": "Available client classification strategies for dual classification mode",
    "conservative": {
      "description": "Conservative strategy prioritizing safety - when in doubt, classify higher",
      "threshold_bias": "${THRASH_CONSERVATIVE_THRESHOLD_BIAS}",
      "confidence_multiplier": "${THRASH_CONSERVATIVE_CONFIDENCE_MULTIPLIER}",
      "safety_first": "${THRASH_SAFETY_FIRST}",
      "defaults": {
        "threshold_bias": 0.05,
        "confidence_multiplier": 1.1,
        "safety_first": true
      },
      "validation": {
        "threshold_bias": {
          "type": "float",
          "range": [0.001, 1.000]
        },
        "confidence_multiplier": {
          "type": "float",
          "range": [0.1, 5.0]
        },
        "safety_first": {
          "type": "boolean"
        }
      }
    },
    "aggressive": {
      "description": "Aggressive strategy for higher sensitivity - lower thresholds for crisis detection",
      "threshold_bias": "${THRASH_AGGRESIVE_THRESHOLD_BIAS}",
      "confidence_multiplier": "${THRASH_AGGRESIVE_CONFIDENCE_MULTIPLIER}",
      "safety_first": "${THRASH_SAFETY_FIRST}",
      "defaults": {
        "threshold_bias": -0.1,
        "confidence_multiplier": 0.9,
        "safety_first": true
      },
      "validation": {
        "threshold_bias": {
          "type": "float",
          "range": [0.001, 1.000]
        },
        "confidence_multiplier": {
          "type": "float",
          "range": [0.1, 5.0]
        },
        "safety_first": {
          "type": "boolean"
        }
      }
    },
    "consensus": {
      "description": "Consensus strategy combining server and client recommendations",
      "threshold_bias": "${THRASH_CONSENSUS_THRESHOLD_BIAS}",
      "confidence_multiplier": "${THRASH_CONSENSUS_CONFIDENCE_MULTIPLIER}",
      "safety_first": "${THRASH_SAFETY_FIRST}",
      "defaults": {
        "threshold_bias": 0.0,
        "confidence_multiplier": 1.0,
        "safety_first": true
      },
      "validation": {
        "threshold_bias": {
          "type": "float",
          "range": [0.001, 1.000]
        },
        "confidence_multiplier": {
          "type": "float",
          "range": [0.1, 5.0]
        },
        "safety_first": {
          "type": "boolean"
        }
      }
    },
    "client_only": {
      "description": "Client-only strategy ignoring server crisis_level suggestions",
      "threshold_bias": "${THRASH_CLIENT_ONLY_THRESHOLD_BIAS}",
      "confidence_multiplier": "${THRASH_CLIENT_ONLY_CONFIDENCE_MULTIPLIER}",
      "safety_first": "${THRASH_SAFETY_FIRST}",
      "defaults": {
        "threshold_bias": 0.0,
        "confidence_multiplier": 1.0,
        "safety_first": true
      },
      "validation": {
        "threshold_bias": {
          "type": "float",
          "range": [0.001, 1.000]
        },
        "confidence_multiplier": {
          "type": "float",
          "range": [0.1, 5.0]
        },
        "safety_first": {
          "type": "boolean"
        }
      }
    }
  },

  "threshold_configurations": {
    "description": "Predefined threshold sets for client crisis classification",
    "standard": {
      "description": "Standard thresholds balanced for general use",
      "crisis_thresholds": {
        "critical_min": "${THRASH_THRESHOLD_STANDARD_CRITICAL}",
        "high_min": "${THRASH_THRESHOLD_STANDARD_HIGH}",
        "medium_min": "${THRASH_THRESHOLD_STANDARD_MEDIUM}",
        "low_min": "${THRASH_THRESHOLD_STANDARD_LOW}",
        "defaults": {
          "critical_min": 0.800
          "high_min": 0.600,
          "medium_min": 0.400,
          "low_min": 0.200
        },
        "validation": {
          "critical_min": {
            "type": "float",
            "range": [0.001, 1.000]
          },
          "high_min": {
            "type": "float",
            "range": [0.001, 1.000]
          },
          "medium_min": {
            "type": "float",
            "range": [0.001, 1.000]
          },
          "low_min": {
            "type": "float",
            "range": [0.001, 1.000]
          }
        }
      },
      "confidence": {
        "weight": "${THRASH_CONFIDENCE_STANDARD_WEIGHT}",
        "variance_penalty": "${THRASH_CONFIDENCE_STANDARD_VARIANCE_PENALTY}",
        "defaults": {
          "weight": 0.100,
          "variance_penalty": 0.100
        },
        "validation": {
          "weight": {
            "type": "float",
            "range": [0.001, 1.000]
          },
          "variance_penalty": {
            "type": "float",
            "range": [0.001, 1.000]
          }
        }
      }
    },
    "conservative": {
      "description": "Conservative thresholds with lower crisis detection barriers",
      "crisis_thresholds": {
        "critical_min": "${THRASH_THRESHOLD_CONSERVATIVE_CRITICAL}",
        "high_min": "${THRASH_THRESHOLD_CONSERVATIVE_HIGH}",
        "medium_min": "${THRASH_THRESHOLD_CONSERVATIVE_MEDIUM}",
        "low_min": "${THRASH_THRESHOLD_CONSERVATIVE_LOW}",
        "defaults": {
          "critical_min": 0.700,
          "high_min": 0.500,
          "medium_min": 0.300,
          "low_min": 0.150
        },
        "validation": {
          "critical_min": {
            "type": "float",
            "range": [0.001, 1.000]
          },
          "high_min": {
            "type": "float",
            "range": [0.001, 1.000]
          },
          "medium_min": {
            "type": "float",
            "range": [0.001, 1.000]
          },
          "low_min": {
            "type": "float",
            "range": [0.001, 1.000]
          }
        }
      },
      "confidence": {
        "confidence_weight": "${THRASH_CONFIDENCE_CONSERVATIVE_WEIGHT}",
        "variance_penalty": "${THRASH_CONFIDENCE_CONSERVATIVE_VARIANCE_PENALTY}",
        "defaults": {
          "confidence_weight": 0.150,
          "variance_penalty": 0.050
        },
        "validation": {
          "confidence_weight": {
            "type": "float",
            "range": [0.001, 1.000]
          },
          "variance_penalty": {
            "type": "float",
            "range": [0.001, 1.000]
          }
        }
      }
    },
    "aggressive": {
      "description": "Aggressive thresholds with higher crisis detection sensitivity",
      "crisis_thresholds": {
        "critical_min": "${THRASH_THRESHOLD_AGGRESSIVE_CRITICAL}",
        "high_min": "${THRASH_THRESHOLD_AGGRESSIVE_HIGH}",
        "medium_min": "${THRASH_THRESHOLD_AGGRESSIVE_MEDIUM}",
        "low_min": "${THRASH_THRESHOLD_AGGRESSIVE_LOW}",
        "defaults": {
          "critical_min": 0.900,
          "high_min": 0.700,
          "medium_min": 0.500,
          "low_min": 0.250
        },
        "validation": {
          "critical_min": {
            "type": "float",
            "range": [0.001, 1.000]
          },
          "high_min": {
            "type": "float",
            "range": [0.001, 1.000]
          },
          "medium_min": {
            "type": "float",
            "range": [0.001, 1.000]
          },
          "low_min": {
            "type": "float",
            "range": [0.001, 1.000]
          }
        }
      },
      "confidence": {
        "confidence_weight": "${THRASH_CONFIDENCE_AGGRESSIVE_WEIGHT}",
        "variance_penalty": "${THRASH_CONFIDENCE_AGGRESSIVE_VARIANCE_PENALTY}",
        "defaults": {
          "confidence_weight": 0.050,
          "variance_penalty": 0.150
        },
        "validation": {
          "confidence_weight": {
            "type": "float",
            "range": [0.001, 1.000]
          },
          "variance_penalty": {
            "type": "float",
            "range": [0.001, 1.000]
          }
        }
      }
    }
  },

  "category_specific_overrides": {
    "description": "Category-specific threshold and strategy overrides for specialized handling",
    "definite_high": {
      "description": "High crisis categories use configured defaults",
      "preferred_strategy": "${THRASH_CLIENT_CLASSIFICATION_STRATEGY}",
      "threshold_config": "${THRASH_DEFAULT_THRESHOLD_CONFIG}",
      "defaults": {
        "preferred_strategy": "client_only",
        "threshold_config": "standard"
      },
      "validation": {
        "preferred_strategy": {
          "type": "string",
          "allowed_values": [
            "conservative",
            "aggressive",
            "consensus",
            "client_only"
          ]
        },
        "threshold_config": {
          "type": "string",
          "allowed_values": [
            "standard",
            "conservative",
            "aggressive"
          ]
        }
      }
    },
    "definite_medium": {
      "description": "Medium crisis uses configured defaults",
      "preferred_strategy": "${THRASH_CLIENT_CLASSIFICATION_STRATEGY}",
      "threshold_config": "${THRASH_DEFAULT_THRESHOLD_CONFIG}",
      "defaults": {
        "preferred_strategy": "client_only",
        "threshold_config": "standard"
      },
      "validation": {
        "preferred_strategy": {
          "type": "string",
          "allowed_values": [
            "conservative",
            "aggressive",
            "consensus",
            "client_only"
          ]
        },
        "threshold_config": {
          "type": "string",
          "allowed_values": [
            "standard",
            "conservative",
            "aggressive"
          ]
        }
      }
    },
    "definite_low": {
      "description": "Low crisis uses configured defaults",
      "preferred_strategy": "${THRASH_CLIENT_CLASSIFICATION_STRATEGY}",
      "threshold_config": "${THRASH_DEFAULT_THRESHOLD_CONFIG}",
      "defaults": {
        "preferred_strategy": "client_only",
        "threshold_config": "standard"
      },
      "validation": {
        "preferred_strategy": {
          "type": "string",
          "allowed_values": [
            "conservative",
            "aggressive",
            "consensus",
            "client_only"
          ]
        },
        "threshold_config": {
          "type": "string",
          "allowed_values": [
            "standard",
            "conservative",
            "aggressive"
          ]
        }
      }
    },
    "definite_none": {
      "description": "None crisis categories can use configured defaults",
      "preferred_strategy": "${THRASH_CLIENT_CLASSIFICATION_STRATEGY}",
      "threshold_config": "${THRASH_DEFAULT_THRESHOLD_CONFIG}",
      "defaults": {
        "preferred_strategy": "client_only",
        "threshold_config": "standard"
      },
      "validation": {
        "preferred_strategy": {
          "type": "string",
          "allowed_values": [
            "conservative",
            "aggressive",
            "consensus",
            "client_only"
          ]
        },
        "threshold_config": {
          "type": "string",
          "allowed_values": [
            "standard",
            "conservative",
            "aggressive"
          ]
        }
      }
    },
    "maybe_high_medium": {
      "description": "Boundary categories between high/medium use configured defaults",
      "preferred_strategy": "${THRASH_CLIENT_CLASSIFICATION_STRATEGY}",
      "threshold_config": "${THRASH_DEFAULT_THRESHOLD_CONFIG}",
      "defaults": {
        "preferred_strategy": "client_only",
        "threshold_config": "standard"
      },
      "validation": {
        "preferred_strategy": {
          "type": "string",
          "allowed_values": [
            "conservative",
            "aggressive",
            "consensus",
            "client_only"
          ]
        },
        "threshold_config": {
          "type": "string",
          "allowed_values": [
            "standard",
            "conservative",
            "aggressive"
          ]
        }
      }
    },
    "maybe_medium_low": {
      "description": "Boundary categories between medium/low use configured defaults",
      "preferred_strategy": "${THRASH_CLIENT_CLASSIFICATION_STRATEGY}",
      "threshold_config": "${THRASH_DEFAULT_THRESHOLD_CONFIG}",
      "defaults": {
        "preferred_strategy": "client_only",
        "threshold_config": "standard"
      },
      "validation": {
        "preferred_strategy": {
          "type": "string",
          "allowed_values": [
            "conservative",
            "aggressive",
            "consensus",
            "client_only"
          ]
        },
        "threshold_config": {
          "type": "string",
          "allowed_values": [
            "standard",
            "conservative",
            "aggressive"
          ]
        }
      }
    },
    "maybe_low_none": {
      "description": "Boundary categories between low/none use configured defaults",
      "preferred_strategy": "${THRASH_CLIENT_CLASSIFICATION_STRATEGY}",
      "threshold_config": "${THRASH_DEFAULT_THRESHOLD_CONFIG}",
      "defaults": {
        "preferred_strategy": "client_only",
        "threshold_config": "standard"
      },
      "validation": {
        "preferred_strategy": {
          "type": "string",
          "allowed_values": [
            "conservative",
            "aggressive",
            "consensus",
            "client_only"
          ]
        },
        "threshold_config": {
          "type": "string",
          "allowed_values": [
            "standard",
            "conservative",
            "aggressive"
          ]
        }
      }
    }
  },

  "performance_tracking": {
    "description": "Settings for client classification performance monitoring",
    "track_agreement_stats": "${THRASH_TRACK_CLASSIFICATION_STATS}",
    "log_disagreements": "${THRASH_LOG_CLASSIFICATION_DISAGREEMENTS}",
    "min_agreement_threshold": "${THRASH_MIN_AGREEMENT_THRESHOLD}",
    "significant_disagreement_threshold": "${THRASH_BIG_DISAGREEMENT_THRESHOLD}",
    "defaults": {
      "track_agreement_stats": true,
      "log_disagreements": true,
      "min_agreement_threshold": 0.70,
      "significant_disagreement_threshold": 2
    },
    "validation": {
      "track_agreement_stats": {
        "type": "boolean",
        "description": "Enable statistical tracking of server vs client agreement rates"
      },
      "log_disagreements": {
        "type": "boolean", 
        "description": "Log cases where server and client classifications disagree"
      },
      "min_agreement_threshold": {
        "type": "float",
        "range": [0.0, 1.0],
        "description": "Minimum acceptable agreement rate between server and client"
      },
      "significant_disagreement_threshold": {
        "type": "float",
        "range": [0.01, 5]
      }
    }
  }
}