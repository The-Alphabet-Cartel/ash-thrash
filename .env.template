# ======================================================= #
# Ash-Thrash v5.0 Environment Variables Template
# ======================================================= #
# FILE VERSION: v5.0-3-2.0-2
# LAST MODIFIED: 2026-02-07
# CLEAN ARCHITECTURE: Compliant (Charter v5.2.3)
# Repository: https://github.com/the-alphabet-cartel/ash-thrash
# Community: The Alphabet Cartel - https://discord.gg/alphabetcartel | https://alphabetcartel.org
#
# USAGE:
#   1. Copy this file to .env
#   2. Modify values as needed
#   3. Environment variables OVERRIDE JSON config defaults
#
# ⚠️  SECRETS WARNING:
#   Do NOT put API tokens or passwords in this file!
#   Use Docker Secrets instead: ./secrets/
#   See secrets/README.md for setup instructions
#
# ------------------------------------------------------- #
# VARIABLE_NAME=value                                     # Description (default: X)
# Comments regarding use of previous variable
# ------------------------------------------------------- #
# ======================================================= #


# ======================================================= #
# GLOBAL VARIABLES
# ======================================================= #
# ------------------------------------------------------- #
# USER/GROUP ID
# ------------------------------------------------------- #
# Set these to match your host user for correct file permissions.
# Find your IDs by running 'id' on your host system.
#
# Example output: uid=1000(PapaBearDoes) gid=1000(PapaBearDoes) ...
#   PUID=1000
#   PGID=1000
# ------------------------------------------------------- #
PUID=1001                                                 # User ID to run container as (default: 1000)
PGID=1001                                                 # Group ID to run container as (default: 1000)
# ------------------------------------------------------- #
# ------------------------------------------------------- #
# TIMEZONE - Used by Docker and the application
# ------------------------------------------------------- #
TZ=America/Los_Angeles                                    # Server timezone (default: UTC)
# ------------------------------------------------------- #
# ------------------------------------------------------- #
FORCE_COLOR=1                                             # Force Color Logging for Non-TTY displays (I'm looking at you PuTTY!)
# ------------------------------------------------------- #
# ======================================================= #


# ======================================================= #
# ASH-THRASH ENVIRONMENT
# ======================================================= #
# ------------------------------------------------------- #
# ENVIRONMENT CONFIGURATION
# ------------------------------------------------------- #
THRASH_ENVIRONMENT=production                             # production, testing, development (default: production)
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# LOGGING CONFIGURATION (Charter v5.2.1 Rule #9)
# ======================================================= #
# ------------------------------------------------------- #
THRASH_LOG_LEVEL=INFO                                     # DEBUG, INFO, WARNING, ERROR, CRITICAL (default: INFO)
THRASH_LOG_FORMAT=human                                   # human (colorized) or json (structured) (default: human)
THRASH_LOG_FILE=/app/logs/ash-thrash.log                  # Log output file path (default: /app/logs/ash-thrash.log)
THRASH_LOG_CONSOLE=true                                   # Enable console logging (default: true)
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# ASH-NLP SERVER CONNECTION
# ======================================================= #
# ------------------------------------------------------- #
# Connection settings for the Ash-NLP crisis detection server
# ------------------------------------------------------- #
THRASH_NLP_HOST=10.20.30.253                              # Ash-NLP server hostname/IP (default: 10.20.30.253)
THRASH_NLP_PORT=30880                                     # Ash-NLP server port (default: 30880)
THRASH_NLP_TIMEOUT=30                                     # Request timeout in seconds (default: 30)
THRASH_NLP_RETRY_ATTEMPTS=3                               # Number of retry attempts (default: 3)
THRASH_NLP_RETRY_DELAY=1000                               # Initial retry delay in ms (default: 1000)
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# TEST EXECUTION CONFIGURATION
# ======================================================= #
# ------------------------------------------------------- #
# Parameters controlling how tests are executed
# ------------------------------------------------------- #
THRASH_REQUEST_DELAY=100                                  # Delay between requests in ms (default: 100)
THRASH_INCLUDE_EXPLANATIONS=true                          # Include explanations in results (default: true)
THRASH_INCLUDE_CONTEXT=false                              # Include context analysis (default: false)
THRASH_EXPLANATION_VERBOSITY=standard                     # minimal, standard, detailed (default: standard)
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# ACCURACY THRESHOLDS
# ======================================================= #
# ------------------------------------------------------- #
# Target accuracy percentages for pass/fail determination
# ------------------------------------------------------- #
THRASH_HIGH_TARGET=95.0                                   # High/Critical priority target (default: 95.0)
THRASH_MEDIUM_TARGET=85.0                                 # Medium priority target (default: 85.0)
THRASH_LOW_TARGET=85.0                                    # Low priority target (default: 85.0)
THRASH_NONE_TARGET=95.0                                   # None priority target (default: 95.0)
THRASH_EDGE_TARGET=70.0                                   # Edge case target (default: 70.0)
THRASH_SPECIALTY_TARGET=75.0                              # Specialty category target (default: 75.0)
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# REPORTING CONFIGURATION
# ======================================================= #
# ------------------------------------------------------- #
# Settings for test result reporting
# ------------------------------------------------------- #
THRASH_REPORT_DIR=/app/reports                            # Report output directory (default: /app/reports)
# THRASH_REPORT_FORMATS=["json"]                          # Output formats: json, html (default: ["json"])
THRASH_DISCORD_WEBHOOK=false                              # Enable Discord notifications (default: false)
THRASH_REPORT_FAILED_DETAILS=true                         # Include details of failed tests (default: true)
THRASH_REPORT_TIMING=true                                 # Include timing statistics (default: true)
#
# Note: Discord webhook URL should be in secrets/ash_thrash_discord_alert_token
# See secrets/README.md for setup instructions
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# PHRASE LOADING CONFIGURATION
# ======================================================= #
# ------------------------------------------------------- #
# Settings for loading test phrases
# ------------------------------------------------------- #
THRASH_PHRASES_DIR=/app/src/config/phrases                # Phrases directory (default: /app/src/config/phrases)
# THRASH_PHRASE_CATEGORIES=["critical_high_priority","medium_priority","low_priority","none_priority"]
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# HEALTH CHECK CONFIGURATION
# ======================================================= #
# ------------------------------------------------------- #
# Settings for the health check HTTP server
# ------------------------------------------------------- #
THRASH_HEALTH_ENABLED=true                                # Enable health server (default: true)
THRASH_HEALTH_HOST=0.0.0.0                                # Health server bind address (default: 0.0.0.0)
THRASH_HEALTH_PORT=30888                                  # Health server port (default: 30888)
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# ASH-VIGIL EVALUATION (Phase 2)
# ======================================================= #
# ------------------------------------------------------- #
# Connection settings for Ash-Vigil model evaluation
# ------------------------------------------------------- #
THRASH_VIGIL_HOST=10.20.30.14                             # Ash-Vigil server hostname/IP (default: 10.20.30.14)
THRASH_VIGIL_PORT=30882                                   # Ash-Vigil server port (default: 30882)
THRASH_VIGIL_TIMEOUT=120                                  # Request timeout in seconds (default: 120)
THRASH_VIGIL_RETRY_ATTEMPTS=2                             # Number of retry attempts (default: 2)
THRASH_VIGIL_RETRY_DELAY=2000                             # Initial retry delay in ms (default: 2000)
THRASH_VIGIL_BATCH_SIZE=50                                # Phrases per batch request (default: 50)
THRASH_VIGIL_DEFAULT_MODEL=ourafla/mental-health-bert-finetuned  # Default model name (default: ourafla/mental-health-bert-finetuned)
# THRASH_VIGIL_PHRASES_PATH=/app/src/config/phrases       # Override phrase files path (default: auto-detect)
#
# Evaluation report settings
THRASH_VIGIL_REPORT_DIR=/app/reports/evaluations          # Evaluation report directory (default: /app/reports/evaluations)
THRASH_VIGIL_BASELINE_DIR=/app/reports/evaluations/baselines
# Evaluation baseline directory (default: /app/reports/evaluations/baselines)
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# BASELINE & REGRESSION DETECTION (Phase 3)
# ======================================================= #
# ------------------------------------------------------- #
# Settings for baseline storage and regression alerting
# ------------------------------------------------------- #
THRASH_BASELINE_DIR=/app/reports/baselines                # Baseline storage directory (default: /app/reports/baselines)
THRASH_BASELINE_DEFAULT=main                              # Default baseline name (default: main)
THRASH_BASELINE_AUTO_SAVE=false                           # Auto-save new baselines (default: false)
#
# Regression Thresholds (percentage drop that triggers alert)
THRASH_REGRESSION_OVERALL=2.0                             # Overall accuracy drop threshold % (default: 2.0)
THRASH_REGRESSION_CATEGORY=5.0                            # Category accuracy drop threshold % (default: 5.0)
THRASH_REGRESSION_FP=3.0                                  # False positive increase threshold % (default: 3.0)
THRASH_REGRESSION_FN=2.0                                  # False negative increase threshold % (default: 2.0)
THRASH_REGRESSION_LATENCY=50.0                            # Latency p95 increase threshold % (default: 50.0)
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# A/B COMPARISON & SNAPSHOT CONFIGURATION (Phase 6 - v5.1)
# ======================================================= #
# Snapshot and comparison infrastructure for evaluating model
# changes between versions. Used by Ash-Thrash testing suite.
# Maps to: default.json → comparison section
# ------------------------------------------------------- #
# SNAPSHOT CONFIGURATION
# ------------------------------------------------------- #
THRASH_SNAPSHOT_DIR=/app/reports/snapshots                # Directory for snapshot storage (default: /app/reports/snapshots)
# ------------------------------------------------------- #
# COMPARISON CONFIGURATION
# ------------------------------------------------------- #
THRASH_COMPARISON_DIR=/app/reports/comparisons            # Directory for comparison report output (default: /app/reports/comparisons)
THRASH_COMPARISON_TEMPLATE_DIR=/app/src/templates         # Directory for Jinja2 report templates (default: /app/src/templates)
THRASH_COMPARISON_CRITICAL_CATEGORIES=["specialty_lgbtqia","lgbtqia_specific"]
# Categories where regression triggers stricter thresholds (JSON list)
# ------------------------------------------------------- #
# COMPARISON VERDICT THRESHOLDS (percentage points, negative = regression)
# ------------------------------------------------------- #
THRASH_COMPARISON_OVERALL_FAIL=-2.0                       # Overall accuracy drop (pp) that triggers FAIL verdict (default: -2.0)
THRASH_COMPARISON_CATEGORY_WARN=-5.0                      # Per-category accuracy drop (pp) that triggers WARN verdict (default: -5.0)
THRASH_COMPARISON_CRITICAL_FAIL=-3.0                      # Critical category accuracy drop (pp) that triggers FAIL verdict (default: -3.0)
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# ASH-VIGIL
# ======================================================= #
# ------------------------------------------------------- #
# ASH-VIGIL / ASH-THRASH INTEGRATION
# ------------------------------------------------------- #
# Connection settings for Ash-Vigil model evaluation
# ------------------------------------------------------- #
THRASH_VIGIL_HOST=10.20.30.14                             # Ash-Vigil server hostname/IP (default: 10.20.30.14)
THRASH_VIGIL_PORT=30882                                   # Ash-Vigil server port (default: 30882)
THRASH_VIGIL_TIMEOUT=120                                  # Request timeout in seconds (default: 120)
THRASH_VIGIL_RETRY_ATTEMPTS=2                             # Number of retry attempts (default: 2)
THRASH_VIGIL_RETRY_DELAY=2000                             # Initial retry delay in ms (default: 2000)
THRASH_VIGIL_BATCH_SIZE=50                                # Phrases per batch request (default: 50)
THRASH_VIGIL_DEFAULT_MODEL=facebook/bart-large-mnli       # Default model name (default: facebook/bart-large-mnli)
# THRASH_VIGIL_PHRASES_PATH=/app/src/config/phrases       # Override phrase files path (default: auto-detect)
#
# Evaluation report settings
THRASH_VIGIL_REPORT_DIR=/app/reports/evaluations          # Evaluation report directory (default: /app/reports/evaluations)
THRASH_VIGIL_BASELINE_DIR=/app/reports/evaluations/baselines  # Evaluation baseline directory (default: /app/reports/evaluations/baselines)
# ------------------------------------------------------- #
# ======================================================= #


# ======================================================= #
# ⚠️  SECRETS REMINDER
# ======================================================= #
# Do NOT put secrets in this file! Use Docker Secrets:
#
# Required:
#   (none required for basic operation)
#
# Optional:
#   secrets/ash_thrash_discord_alert_token  - Discord webhook URL for test notifications
#
# Example:
#   echo "https://discord.com/api/webhooks/..." > secrets/ash_thrash_discord_alert_token
#   chmod 600 secrets/ash_thrash_discord_alert_token
#
# See secrets/README.md for full instructions
# ======================================================= #


# ======================================================= #
# END OF CONFIGURATION
# ======================================================= #
